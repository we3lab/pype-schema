{
  "nodes": [
    "SVCW",
    "SewerMain",
    "Bay",
    "StormwaterDrain",
    "RecycledWater",
    "ElectricGrid"
  ],
  "connections": [
    "EffluentPump",
    "LiftPump",
    "StormwaterPump",
    "RecycledWaterPump",
    "GridToFacility"
  ],
  "RecycledWater": {
    "type": "Facility",
    "elevation (meters)": null,
    "input_contents": "TreatedSewage",
    "output_contents": "NonpotableReuse",
    "flowrate (MGD)": {
      "min": null,
      "max": null,
      "avg": null
    },
    "nodes": [],
    "connections": []
  },
  "SVCW": {
    "type": "Facility",
    "elevation (meters)": 1,
    "input_contents": "UntreatedSewage",
    "output_contents": "TreatedSewage",
    "flowrate (MGD)": {
      "min": null,
      "max": 68,
      "avg": 24
    },
    "nodes": [
      "PrimaryClarifier",
      "FixedFilmReactor",
      "AerationBasin",
      "SecondaryClarifier",
      "DualMediaFilter",
      "ChlorineContactTank",
      "SludgeThickener",
      "AnaerobicDigester",
      "Cogenerator",
      "Flare",
      "VirtualDemand",
      "TeslaPowerwall"
    ],
    "connections": [
      "SiteWastePump",
      "WashwaterPump",
      "BilgePump",
      "Number3Pump",
      "TPSPump",
      "FFRPump",
      "DMFPump",
      "RASPump",
      "WASPump",
      "FFRToAerator",
      "PrimaryToAerator",
      "AeratorToSecondary",
      "DMFToChlorine",
      "DigesterToCogen",
      "DigesterToFlare",
      "ThickenerToDigester",
      "BatteryToFacility",
      "CogenToFacility"
    ]
  },
  "PrimaryClarifier": {
    "type": "Clarification",
    "contents": "UntreatedSewage",
    "volume (cubic meters)": 2193.5,
    "num_units": 4,
    "flowrate (MGD)": {
      "min": null,
      "max": null,
      "avg": 6
    }
  },
  "SecondaryClarifier": {
    "type": "Clarification",
    "contents": "UntreatedSewage",
    "volume (cubic meters)": 4512,
    "num_units": 4,
    "flowrate (MGD)": {
      "min": null,
      "max": 17,
      "avg": 6
    }
  },
  "AerationBasin": {
    "type": "Aeration",
    "contents": "UntreatedSewage",
    "volume (cubic meters)": 3775.5,
    "num_units": 4,
    "flowrate (MGD)": {
      "min": null,
      "max": null,
      "avg": 6
    }
  },
  "AnaerobicDigester": {
    "type": "Digestion",
    "input_contents": "SludgeBlend",
    "output_contents": "Biogas",
    "digester_type": "Anaerobic",
    "volume (cubic meters)": 6145,
    "num_units": 3,
    "flowrate (MGD)": {
      "min": null,
      "max": null,
      "avg": 0.15
    },
    "tags": {
      "DIG1.FOG_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "FatOilGrease",
        "unit_id": 1,
        "totalized": true
      },
      "DIG1.SCM_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "Scum",
        "unit_id": 1
      },
      "DIG1.TPS_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "PrimarySludge",
        "unit_id": 1
      },
      "DIG1.TWAS_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "WasteActivatedSludge",
        "unit_id": 1
      },
      "DIG2.FOG_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "FatOilGrease",
        "unit_id": 2
      },
      "DIG2.SCM_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "Scum",
        "unit_id": 2
      },
      "DIG2.TPS_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "PrimarySludge",
        "unit_id": 2
      },
      "DIG2.TWAS_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "WasteActivatedSludge",
        "unit_id": 2
      },
      "DIG3.FOG_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "FatOilGrease",
        "unit_id": 3
      },
      "DIG3.SCM_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "Scum",
        "unit_id": 3
      },
      "DIG3.TPS_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "PrimarySludge",
        "unit_id": 3
      },
      "DIG3.TWAS_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "WasteActivatedSludge",
        "unit_id": 3
      },
      "ENGINE_GAS_DATA.DIG1_GAS_FLOW": {
        "type": "EffluentFlow",
        "units": "SCFM",
        "contents": "Biogas",
        "unit_id": 1
      },
      "ENGINE_GAS_DATA.DIG2_GAS_FLOW": {
        "type": "EffluentFlow",
        "units": "SCFM",
        "contents": "Biogas",
        "unit_id": 2
      },
      "ENGINE_GAS_DATA.DIG3_GAS_FLOW": {
        "type": "EffluentFlow",
        "units": "SCFM",
        "contents": "Biogas",
        "unit_id": 3
      },
      "FDW_DIG_FLOW.FLOW_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "FoodWaste",
        "unit_id": "total"
      },
      "SCM.FLOW_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "Scum",
        "unit_id": "total"
      },
      "TPS.FLOW_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "PrimarySludge",
        "unit_id": "total"
      },
      "TWAS.FLOW_GALS_DAY": {
        "type": "InfluentFlow",
        "units": "GPD",
        "contents": "WasteActivatedSludge",
        "unit_id": "total"
      }
    }
  },
  "Cogenerator": {
    "type": "Cogeneration",
    "num_units": 2,
    "input_contents": ["Biogas", "NaturalGas"],
    "output_contents": "Electricity",
    "generation_capacity (kWh)": {
      "min": null,
      "max": 633,
      "avg": null
    },
    "tags": {
      "CGN_SUP_FIT_27102_DG.VAL_ACT": {
        "type": "InfluentFlow",
        "units": "SCFM",
        "contents": "Biogas",
        "unit_id": 1
      },
      "CGN_SUP_FIT_27202_DG.VAL_ACT": {
        "type": "InfluentFlow",
        "units": "SCFM",
        "contents": "Biogas",
        "unit_id": 2
      },
      "CGN_SUP_FIT_27102_NG.VAL_ACT": {
        "type": "InfluentFlow",
        "units": "SCFM",
        "contents": "NaturalGas",
        "unit_id": 1
      },
      "CGN_SUP_FIT_27202_NG.VAL_ACT": {
        "type": "InfluentFlow",
        "units": "SCFM",
        "contents": "NaturalGas",
        "unit_id": 2
      },
      "CGN_ENG_DAILY_DATA.GEN1_KWHRS_DAY": {
        "type": "EffluentFlow",
        "units": "kWh",
        "contents": null,
        "unit_id": 1
      },
      "CGN_ENG_DAILY_DATA.GEN2_KWHRS_DAY": {
        "type": "EffluentFlow",
        "units": "kWh",
        "contents": null,
        "unit_id": 2
      }
    }
  },
  "Flare": {
    "type": "Flaring",
    "num_units": 2,
    "contents": "Biogas",
    "tags": {
      "Tot_Flow_WasteGas_Burner1.PV": {
        "type": "InfluentFlow",
        "units": "SCFM",
        "unit_id": 1,
        "totalized": true
      },
      "Tot_Flow_WasteGas_Burner2.PV": {
        "type": "InfluentFlow",
        "units": "SCFM",
        "unit_id": 2,
        "totalized": true
      }
    }
  },
  "FixedFilmReactor": {
    "type": "Filtration",
    "contents": "UntreatedSewage",
    "volume (cubic meters)": 2534.36,
    "num_units": 4,
    "flowrate (MGD)": {
      "min": 4.18,
      "max": 13.68,
      "avg": null
    }
  },
  "DualMediaFilter": {
    "type": "Filtration",
    "contents": "UntreatedSewage",
    "volume (cubic meters)": null,
    "num_units": 10,
    "flowrate (MGD)": {
      "min": null,
      "max": null,
      "avg": null
    },
    "tags": {
      "DMF_CONTROL.FilterEffFlow": {
        "type": "EffluentFlow",
        "units": "MGD",
        "unit_id": "total"
      }
    }
  },
  "SludgeThickener": {
    "type": "Thickening",
    "input_contents": ["PrimarySludge", "WasteActivatedSludge"],
    "output_contents": "SludgeBlend",
    "num_units": 4,
    "volume (cubic meters)": null,
    "flowrate (MGD)": {
      "min": null,
      "max": null,
      "avg": 1.17
    }
  },
  "ChlorineContactTank": {
    "type": "Tank",
    "elevation (meters)": null,
    "volume (cubic meters)": 5299.57,
    "input_contents": "UntreatedSewage",
    "output_contents": "TreatedSewage"
  },
  "WASPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "SecondaryClarifier",
    "sink": "SludgeThickener",
    "contents": "WasteActivatedSludge",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "RASPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "SecondaryClarifier",
    "sink": "AerationBasin",
    "contents": "WasteActivatedSludge",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "TPSPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "PrimaryClarifier",
    "sink": "SludgeThickener",
    "contents": "PrimarySludge",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "FFRPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "PrimaryClarifier",
    "sink": "FixedFilmReactor",
    "contents": "UntreatedSewage",
    "bidirectional": true,
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "DMFPump": {
    "type": "Pump",
    "pump_type": null,
    "num_units": null,
    "source": "SecondaryClarifier",
    "sink": "DualMediaFilter",
    "contents": "UntreatedSewage",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "LiftPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "SewerMain",
    "sink": "SVCW",
    "contents": "UntreatedSewage",
    "horsepower": 50,
    "flowrate (MGD)": {
      "max": 16.99,
      "min": null,
      "avg": null
    },
    "tags": {
      "FEP_INFLUENT_FLOW.PV": {
        "type": "EffluentFlow",
        "units": "MGD",
        "unit_id": "total"
      }
    }
  },
  "StormwaterPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "StormwaterDrain",
    "sink": "SVCW",
    "contents": "UntreatedSewage",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "BilgePump": {
    "type": "Pump",
    "pump_type": null,
    "source": "DualMediaFilter",
    "sink": "PrimaryClarifier",
    "contents": "UntreatedSewage",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "WashwaterPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "DualMediaFilter",
    "sink": "PrimaryClarifier",
    "contents": "UntreatedSewage",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "SiteWastePump": {
    "type": "Pump",
    "pump_type": null,
    "source": "SludgeThickener",
    "sink": "PrimaryClarifier",
    "contents": "UntreatedSewage",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "EffluentPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "SVCW",
    "sink": "Bay",
    "contents": "TreatedSewage",
    "num_units": 5,
    "horsepower": 150,
    "flowrate (MGD)": {
      "max": 16.99,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "RecycledWaterPump": {
    "type": "Pump",
    "pump_type": null,
    "source": "SVCW",
    "sink": "RecycledWater",
    "contents": "TreatedSewage",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "Number3Pump": {
    "type": "Pump",
    "source": "ChlorineContactTank",
    "sink": "PrimaryClarifier",
    "bidirectional": false,
    "pump_type": null,
    "contents": "TreatedSewage",
    "num_units": null,
    "horsepower": null,
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "SewerMain": {
    "type": "Network",
    "contents": "UntreatedSewage",
    "nodes": [],
    "connections": [],
    "tags": {}
  },
  "StormwaterDrain": {
    "type": "Network",
    "contents": "UntreatedSewage",
    "nodes": [],
    "connections": [],
    "tags": {}
  },
  "Bay": {
    "type": "Reservoir",
    "contents": "TreatedSewage",
    "tags": {}
  },
  "ElectricGrid": {
    "type": "Network",
    "contents": "Electricity",
    "tags": {},
    "nodes": [],
    "connections": []
  },
  "TeslaPowerwall": {
    "type": "Battery",
    "contents": "Electricity",
    "capacity": 2000,
    "discharge_rate": 550,
    "tags": {}
  },
  "VirtualDemand": {
    "type": "Network",
    "contents": "Electricity",
    "tags": {},
    "nodes": [],
    "connections": []
  },
  "FFRToAerator": {
    "type": "Pipe",
    "source": "FixedFilmReactor",
    "sink": "AerationBasin",
    "contents": "UntreatedSewage",
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "PrimaryToAerator": {
    "type": "Pipe",
    "source": "PrimaryClarifier",
    "sink": "AerationBasin",
    "contents": "UntreatedSewage",
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "AeratorToSecondary":{
    "type": "Pipe",
    "source": "AerationBasin",
    "sink": "SecondaryClarifier",
    "contents": "UntreatedSewage",
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "DMFToChlorine": {
    "type": "Pipe",
    "source": "DualMediaFilter",
    "sink": "ChlorineContactTank",
    "contents": "UntreatedSewage",
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "DigesterToCogen": {
    "type": "Pipe",
    "source": "AnaerobicDigester",
    "sink": "Cogenerator",
    "contents": "Biogas",
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "DigesterToFlare": {
    "type": "Pipe",
    "source": "AnaerobicDigester",
    "sink": "Flare",
    "contents": "Biogas",
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "ThickenerToDigester": {
    "type": "Pipe",
    "source": "SludgeThickener",
    "sink": "AnaerobicDigester",
    "contents": "SludgeBlend",
    "flowrate (MGD)": {
      "max": null,
      "min": null,
      "avg": null
    },
    "tags": {}
  },
  "GridToFacility": {
    "type": "Wire",
    "source": "ElectricGrid",
    "sink": "SVCW",
    "contents": "Electricity",
    "bidirectional": false,
    "tags": {
      "CGN_ENG_DAILY_DATA.PLANT_PURCHASED_KWH": {
        "type": "InfluentFlow",
        "units": "kWh",
        "contents": null,
        "unit_id": "total"
      }
    }
  },
  "BatteryToFacility": {
    "type": "Wire",
    "source": "TeslaPowerwall",
    "sink": "VirtualDemand",
    "contents": "Electricity",
    "bidirectional": true,
    "tags": {}
  },
  "CogenToFacility": {
    "type": "Wire",
    "source": "Cogenerator",
    "sink": "VirtualDemand",
    "contents": "Electricity",
    "bidirectional": false,
    "tags": {
      "CGN_ENG_DAILY_DATA.CGN_NET_ELECTRICITY_KWH": {
        "type": "EffluentFlow",
        "units": "kWh",
        "contents": null,
        "unit_id": "total"
      }
    }
  }
}
