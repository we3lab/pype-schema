<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pype_schema.node &mdash; PyPES 0.7.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            PyPES
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hello.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json_rep.html">JSON Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contribution Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LICENSE.html">LICENSE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Class Hierarchy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../connection.html">connection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../node.html">node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tag.html">tag</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">JSON Parsing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../parse_json.html">parse_json</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../units.html">units</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../logbook.html">logbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations.html">operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../utils.html">utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../visualize.html">visualize</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PyPES</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
          <li class="breadcrumb-item"><a href="../pype_schema.html">pype_schema</a></li>
      <li class="breadcrumb-item active">pype_schema.node</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for pype_schema.node</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">ABC</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">utils</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.tag</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">VirtualTag</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">EFFICIENCY_ATTRS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;thermal_efficiency&quot;</span><span class="p">,</span>
    <span class="s2">&quot;electrical_efficiency&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rte&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pump_curve&quot;</span><span class="p">,</span>
    <span class="s2">&quot;efficiency&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">CAPACITY_ATTRS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;volume&quot;</span><span class="p">,</span>
    <span class="s2">&quot;energy_capacity&quot;</span><span class="p">,</span>
    <span class="s2">&quot;discharge_rate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;charge_rate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;min_flow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_flow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;design_flow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;min_gen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_gen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;design_gen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;power_rating&quot;</span><span class="p">,</span>
<span class="p">]</span>


<div class="viewcode-block" id="Node"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Node</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract class for all nodes</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Node ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the node.</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the node.</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this node</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">input_contents</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">output_contents</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">tags</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Node id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Node.set_dosing"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.set_dosing">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_dosing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dose_rate</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;rate&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the dosing rate of the node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        dose_rate : dict of str:float</span>
<span class="sd">            Dosing rate of the chemical in the node</span>

<span class="sd">        mode : str</span>
<span class="sd">            whether or not the dosing is defined as a volumetric &#39;rate&#39; or by &#39;area&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;rate&quot;</span><span class="p">,</span> <span class="s2">&quot;area&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Dosing mode must be either &#39;rate&#39; or &#39;area&#39; not &#39;&quot;</span> <span class="o">+</span> <span class="n">mode</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span>
            <span class="p">)</span>

        <span class="n">dosing_dict</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dose_rate</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">utils</span><span class="o">.</span><span class="n">DosingType</span><span class="p">):</span>
                <span class="n">dosing_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">utils</span><span class="o">.</span><span class="n">DosingType</span><span class="o">.</span><span class="n">__members__</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2"> is not a valid dosing type&quot;</span><span class="p">)</span>
                <span class="n">dosing_dict</span><span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">DosingType</span><span class="p">[</span><span class="n">k</span><span class="p">]]</span> <span class="o">=</span> <span class="n">v</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;rate&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_rate</span> <span class="o">=</span> <span class="n">dosing_dict</span>
        <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;area&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_area</span> <span class="o">=</span> <span class="n">dosing_dict</span></div>

<div class="viewcode-block" id="Node.set_flow_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.set_flow_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_flow_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">design</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the minimum, maximum, and design flow rate of the node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        min : int</span>
<span class="sd">            Minimum flow rate through the node</span>

<span class="sd">        max : int</span>
<span class="sd">            Maximum flow rate through the node</span>

<span class="sd">        design : int</span>
<span class="sd">            Design flow rate through the node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;Please switch from `flow_rate` tuple to separate &quot;</span>
            <span class="o">+</span> <span class="s2">&quot;`min_flow`, `max_flow` and `design_flow` attributes&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">design</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_min_flow</span> <span class="o">=</span> <span class="nb">min</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_flow</span> <span class="o">=</span> <span class="nb">max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_design_flow</span> <span class="o">=</span> <span class="n">design</span></div>

<div class="viewcode-block" id="Node.get_min_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_min_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_min_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_flow</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `flow_rate` tuple to new `min_flow` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="Node.set_min_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.set_min_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_min_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_flow</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_min_flow</span> <span class="o">=</span> <span class="n">min_flow</span></div>

<div class="viewcode-block" id="Node.del_min_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.del_min_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_min_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_flow</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;flow_rate&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="Node.get_max_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_max_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_max_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_flow</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `flow_rate` tuple to new `max_flow` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="Node.set_max_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.set_max_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_max_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_flow</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_flow</span> <span class="o">=</span> <span class="n">max_flow</span></div>

<div class="viewcode-block" id="Node.del_max_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.del_max_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_max_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_flow</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;flow_rate&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="Node.get_design_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_design_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_design_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_design_flow</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `flow_rate` tuple to new `design_flow` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

<div class="viewcode-block" id="Node.set_design_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.set_design_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_design_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">design_flow</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_design_flow</span> <span class="o">=</span> <span class="n">design_flow</span></div>

<div class="viewcode-block" id="Node.del_design_flow"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.del_design_flow">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_design_flow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_design_flow</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;flow_rate&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">flow_rate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span></div>

    <span class="n">min_flow</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_min_flow</span><span class="p">,</span> <span class="n">set_min_flow</span><span class="p">,</span> <span class="n">del_min_flow</span><span class="p">)</span>
    <span class="n">max_flow</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_max_flow</span><span class="p">,</span> <span class="n">set_max_flow</span><span class="p">,</span> <span class="n">del_max_flow</span><span class="p">)</span>
    <span class="n">design_flow</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_design_flow</span><span class="p">,</span> <span class="n">set_design_flow</span><span class="p">,</span> <span class="n">del_design_flow</span><span class="p">)</span>

<div class="viewcode-block" id="Node.set_contents"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.set_contents">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contents</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;input_contents&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the input or output contents of a node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        contents : ContentsType or list of ContentsType</span>
<span class="sd">            Single value or list of ContentsType entering/exiting the node.</span>

<span class="sd">        attribute : [&quot;input_contents&quot;, &quot;output_contents&quot;]</span>
<span class="sd">            Attribute to set (either `input_contents` or `output_contents`)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="p">):</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="p">[</span><span class="n">contents</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="n">contents</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;&#39;contents&#39; must be either ContentsType or list of ContentsType&quot;</span>
            <span class="p">)</span></div>

<div class="viewcode-block" id="Node.get_efficiencies"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_efficiencies">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_efficiencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a dictionary of efficiency-related attributes</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            Dictionary of attribute names and values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">EFFICIENCY_ATTRS</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="Node.get_capacities"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_capacities">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_capacities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a dictionary of capacity-related attributes</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            Dictionary of attribute names and values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">CAPACITY_ATTRS</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="Node.add_tag"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.add_tag">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a tag to the node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tag : Tag</span>
<span class="sd">            Tag object to add to the node</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tag</span><span class="o">.</span><span class="n">parent_id</span><span class="p">:</span>
            <span class="n">tag</span><span class="o">.</span><span class="n">parent_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">tag</span></div>

<div class="viewcode-block" id="Node.remove_tag"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.remove_tag">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a tag from the node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tag_name : str</span>
<span class="sd">            name of tag to remove</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">[</span><span class="n">tag_name</span><span class="p">]</span></div>

<div class="viewcode-block" id="Node.get_tag"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_tag">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the Tag object associated with `tag_name`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tag_name : str</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get tags recursively.</span>
<span class="sd">            Default is False, meaning that only tags involving direct children</span>
<span class="sd">            (and this Node itself) will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        ------</span>
<span class="sd">        Tag or VirtualTag</span>
<span class="sd">            pype_schema Tag object associated with the variable name.</span>
<span class="sd">            Returns None if the `tag_name` is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tag</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">tag_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">[</span><span class="n">tag_name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;connections&quot;</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">connection</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">tag_name</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">tag</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">tags</span><span class="p">[</span><span class="n">tag_name</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;nodes&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">tag</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                        <span class="n">tag</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get_tag</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">tag_name</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="n">tag</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">tags</span><span class="p">[</span><span class="n">tag_name</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">tag</span><span class="p">:</span>
                        <span class="k">break</span>

        <span class="k">return</span> <span class="n">tag</span></div>

<div class="viewcode-block" id="Node.get_all_tags"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_all_tags">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtual</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all Tag objects associated with this Node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        virtual : bool</span>
<span class="sd">            Whether to include VirtualTag objects or just regular Tag.</span>
<span class="sd">            True by default.</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get tags recursively.</span>
<span class="sd">            Default is False, meaning that only tags involving direct children</span>
<span class="sd">            (and this Node itself) will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        ------</span>
<span class="sd">        list of Tag and VirtualTag</span>
<span class="sd">            Tag objects inside this Node.</span>
<span class="sd">            If `recurse` is True, all children, grandchildren, etc. are returned.</span>
<span class="sd">            If False, only direct children are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;connections&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">connection</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;nodes&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                    <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span> <span class="o">+</span> <span class="n">node</span><span class="o">.</span><span class="n">get_all_tags</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">)</span>

        <span class="c1"># remove duplicates from grabbing top level and next level</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">tags</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">virtual</span><span class="p">:</span>
            <span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="n">tag</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">Tag</span><span class="p">)]</span>

        <span class="k">return</span> <span class="n">tags</span></div>

<div class="viewcode-block" id="Node.get_node"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_node">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a node from the network</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_name : str</span>
<span class="sd">            name of node to retrieve</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get nodes recursively.</span>
<span class="sd">            Default is False, meaning that only direct children will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Node or None</span>
<span class="sd">            Node object if node is found. None otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;nodes&quot;</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_name</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                            <span class="k">break</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="Node.get_all_nodes"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_all_nodes">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all Node objects associated with this Node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get nodes recursively.</span>
<span class="sd">            Default is False, meaning that only direct children will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        ------</span>
<span class="sd">        list of Node</span>
<span class="sd">            Node objects inside this Node.</span>
<span class="sd">            If `recurse` is True, all children, grandchildren, etc. are returned.</span>
<span class="sd">            If False, only direct children are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;nodes&quot;</span><span class="p">):</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">nodes</span> <span class="o">=</span> <span class="n">nodes</span> <span class="o">+</span> <span class="n">node</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">nodes</span></div>

<div class="viewcode-block" id="Node.get_connection"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_connection">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a connection from the network</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        connection_name : str</span>
<span class="sd">            name of connection to retrieve</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get connections recursively.</span>
<span class="sd">            Default is False, meaning that only direct children will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Connection or None</span>
<span class="sd">            Connection object if node is found. None otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;connections&quot;</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="p">[</span><span class="n">connection_name</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">connection_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                            <span class="k">break</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="Node.get_all_connections"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_all_connections">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_connections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all Connection objects associated with this Node</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get connections recursively.</span>
<span class="sd">            Default is False, meaning that only direct children will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        ------</span>
<span class="sd">        list of Connection</span>
<span class="sd">            Connection objects inside this Node.</span>
<span class="sd">            If `recurse` is True, all children, grandchildren, etc. are returned.</span>
<span class="sd">            If False, only direct children are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;connections&quot;</span><span class="p">):</span>
            <span class="n">connections</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;nodes&quot;</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">connections</span> <span class="o">=</span> <span class="n">connections</span> <span class="o">+</span> <span class="n">node</span><span class="o">.</span><span class="n">get_all_connections</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connections</span></div>

<div class="viewcode-block" id="Node.get_all_connections_to"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_all_connections_to">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_connections_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all connections entering the specified Node, including those</span>
<span class="sd">        from a different level of the hierarchy with `entry_point` specified.</span>

<span class="sd">        Paremeters</span>
<span class="sd">        ----------</span>
<span class="sd">        node : Node</span>
<span class="sd">            pype_schema `Node` object for which we want to get connections</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of Connection</span>
<span class="sd">            List of `Connection` objects entering the specified `node`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="n">connections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_connections</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">connection</span>
            <span class="k">for</span> <span class="n">connection</span> <span class="ow">in</span> <span class="n">connections</span>
            <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">destination</span> <span class="o">==</span> <span class="n">node</span> <span class="ow">or</span> <span class="n">connection</span><span class="o">.</span><span class="n">entry_point</span> <span class="o">==</span> <span class="n">node</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="Node.get_all_connections_from"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_all_connections_from">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_connections_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all connections leaving the specified Node, including those</span>
<span class="sd">        from a different level of the hierarchy with `exit_point` specified.</span>

<span class="sd">        Paremeters</span>
<span class="sd">        ----------</span>
<span class="sd">        node : Node</span>
<span class="sd">            pype_schema `Node` object for which we want to get connections</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list of Connection</span>
<span class="sd">            List of `Connection` objects leaving the specified `node`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="n">connections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_connections</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">connection</span>
            <span class="k">for</span> <span class="n">connection</span> <span class="ow">in</span> <span class="n">connections</span>
            <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">source</span> <span class="o">==</span> <span class="n">node</span> <span class="ow">or</span> <span class="n">connection</span><span class="o">.</span><span class="n">exit_point</span> <span class="o">==</span> <span class="n">node</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="Node.get_node_or_connection"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_node_or_connection">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_node_or_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the `Node` or `Connection` object with name `obj_id`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        obj_id : str</span>
<span class="sd">            name of the object to query</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get connections or nodes recursively.</span>
<span class="sd">            Default is False, meaning that only direct children will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Node or Connection</span>
<span class="sd">            object with the name `obj_id`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">obj_id</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">obj_id</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">obj</span></div>

<div class="viewcode-block" id="Node.get_parent_from_tag"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_parent_from_tag">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_parent_from_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the parent object of a `Tag` object, as long as both the tag and its</span>
<span class="sd">        parent object are children of `self`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tag : Tag or VirtualTag</span>
<span class="sd">            object for which we want the parent object</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Node or Connection</span>
<span class="sd">            parent object of the Tag</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">VirtualTag</span><span class="p">)</span> <span class="ow">and</span> <span class="n">tag</span><span class="o">.</span><span class="n">parent_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">return</span> <span class="bp">self</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">children</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_connections</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span>
                    <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="k">return</span> <span class="n">child</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">parent_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_or_connection</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">parent_obj</span></div>

<div class="viewcode-block" id="Node.get_parent"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.get_parent">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child_obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the parent object of a `Tag`, `Connection`, or `Node` object,</span>
<span class="sd">        as long as both `child_obj` and its parent object are children of `self`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        child_obj : `Tag`, `VirtualTag`, `Connection`, or `Node`</span>
<span class="sd">            object for which we want the parent object</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Node or Connection</span>
<span class="sd">            parent object of `child_obj`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child_obj</span><span class="p">,</span> <span class="p">(</span><span class="n">Tag</span><span class="p">,</span> <span class="n">VirtualTag</span><span class="p">)):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent_from_tag</span><span class="p">(</span><span class="n">child_obj</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="n">child_obj</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">or</span> <span class="n">child_obj</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">children</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">child_obj</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                    <span class="ow">or</span> <span class="n">child_obj</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="p">):</span>
                    <span class="k">return</span> <span class="n">child</span></div>

<div class="viewcode-block" id="Node.select_tags"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.select_tags">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">select_tags</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">tag</span><span class="p">,</span>
        <span class="n">source_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">source_unit_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_unit_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exit_point_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">entry_point_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">source_node_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_node_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exit_point_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">entry_point_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">virtual</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper function for selecting `Tag` objects from inside a `Node`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tag : Tag</span>
<span class="sd">            Tag object to check against the search criteria</span>

<span class="sd">        source_id : str</span>
<span class="sd">            Optional id of the source node to filter by. None by default</span>

<span class="sd">        dest_id : str</span>
<span class="sd">            Optional id of the destination node to filter by. None by default</span>

<span class="sd">        source_unit_id : int, str</span>
<span class="sd">            Optional unit id of the source to filter by. None by default</span>

<span class="sd">        dest_unit_id : int, str</span>
<span class="sd">            Optional unit id of the destination to filter by. None by default</span>

<span class="sd">        exit_point_id : str</span>
<span class="sd">            Optional id of the `exit_point` node to filter by. None by default</span>

<span class="sd">        entry_point_id : str</span>
<span class="sd">            Optional id of the `entry_point` node to filter by. None by default</span>

<span class="sd">        source_node_type : class</span>
<span class="sd">            Optional source `Node` subclass to filter by. None by default</span>

<span class="sd">        dest_node_type : class</span>
<span class="sd">            Optional destination `Node` subclass to filter by. None by default</span>

<span class="sd">        exit_point_type : class</span>
<span class="sd">            Optional `exit_point` `Node` subclass to filter by. None by default</span>

<span class="sd">        entry_point_type : class</span>
<span class="sd">            Optional `entry_point` `Node` subclass to filter by. None by default</span>

<span class="sd">        tag_type : TagType</span>
<span class="sd">            Optional tag type to filter by. None by default</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether to search for objects within nodes. False by default</span>

<span class="sd">        virtual : bool</span>
<span class="sd">            True if `tag` is being queried as part of a `VirtualTag`. False by default</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if `tag` meets the filtering criteria</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">parent_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="n">parent_obj</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">parent_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_or_connection</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">parent_id</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">bidirectional</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent_obj</span><span class="p">,</span> <span class="n">Node</span><span class="p">):</span>
            <span class="n">obj_source_node</span> <span class="o">=</span> <span class="n">parent_obj</span>
            <span class="n">obj_source_unit_id</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">source_unit_id</span>
            <span class="p">(</span>
                <span class="n">obj_dest_unit_id</span><span class="p">,</span>
                <span class="n">obj_dest_node</span><span class="p">,</span>
                <span class="n">obj_entry_point</span><span class="p">,</span>
                <span class="n">obj_exit_point</span><span class="p">,</span>
            <span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="n">parent_obj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>  <span class="c1"># the parent must be a Connection if it is not a Node</span>
            <span class="n">obj_source_node</span> <span class="o">=</span> <span class="n">parent_obj</span><span class="o">.</span><span class="n">get_source_node</span><span class="p">()</span>
            <span class="n">obj_source_unit_id</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">source_unit_id</span>
            <span class="n">obj_dest_node</span> <span class="o">=</span> <span class="n">parent_obj</span><span class="o">.</span><span class="n">get_dest_node</span><span class="p">()</span>
            <span class="n">obj_dest_unit_id</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">dest_unit_id</span>
            <span class="n">obj_exit_point</span> <span class="o">=</span> <span class="n">parent_obj</span><span class="o">.</span><span class="n">get_exit_point</span><span class="p">()</span>
            <span class="n">obj_entry_point</span> <span class="o">=</span> <span class="n">parent_obj</span><span class="o">.</span><span class="n">get_entry_point</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">parent_obj</span><span class="o">.</span><span class="n">bidirectional</span><span class="p">:</span>
                <span class="n">bidirectional</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># If the parent is None, then it&#39;s parent object is outside the network</span>
        <span class="c1"># and we can&#39;t filter by source/destination/entry/exit-point node and node type</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj_source_node</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">obj_source_unit_id</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">source_unit_id</span>
            <span class="n">obj_dest_node</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">obj_dest_unit_id</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">dest_unit_id</span>
            <span class="n">obj_exit_point</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">obj_entry_point</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">virtual</span><span class="p">:</span>
            <span class="n">obj_source_unit_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">obj_dest_unit_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">utils</span><span class="o">.</span><span class="n">select_objs_helper</span><span class="p">(</span>
            <span class="n">tag</span><span class="p">,</span>
            <span class="n">obj_source_node</span><span class="o">=</span><span class="n">obj_source_node</span><span class="p">,</span>
            <span class="n">obj_dest_node</span><span class="o">=</span><span class="n">obj_dest_node</span><span class="p">,</span>
            <span class="n">obj_source_unit_id</span><span class="o">=</span><span class="n">obj_source_unit_id</span><span class="p">,</span>
            <span class="n">obj_dest_unit_id</span><span class="o">=</span><span class="n">obj_dest_unit_id</span><span class="p">,</span>
            <span class="n">obj_exit_point</span><span class="o">=</span><span class="n">obj_exit_point</span><span class="p">,</span>
            <span class="n">obj_entry_point</span><span class="o">=</span><span class="n">obj_entry_point</span><span class="p">,</span>
            <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
            <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
            <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
            <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
            <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
            <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
            <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
            <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
            <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
            <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
            <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_type</span><span class="p">,</span>
            <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">bidirectional</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">utils</span><span class="o">.</span><span class="n">select_objs_helper</span><span class="p">(</span>
                <span class="n">tag</span><span class="p">,</span>
                <span class="n">obj_source_node</span><span class="o">=</span><span class="n">obj_dest_node</span><span class="p">,</span>
                <span class="n">obj_dest_node</span><span class="o">=</span><span class="n">obj_source_node</span><span class="p">,</span>
                <span class="n">obj_source_unit_id</span><span class="o">=</span><span class="n">obj_dest_unit_id</span><span class="p">,</span>
                <span class="n">obj_dest_unit_id</span><span class="o">=</span><span class="n">obj_source_unit_id</span><span class="p">,</span>
                <span class="n">obj_exit_point</span><span class="o">=</span><span class="n">obj_entry_point</span><span class="p">,</span>
                <span class="n">obj_entry_point</span><span class="o">=</span><span class="n">obj_exit_point</span><span class="p">,</span>
                <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_type</span><span class="p">,</span>
                <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Node.select_virtual_tags"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.select_virtual_tags">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">select_virtual_tags</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">virtual_tag</span><span class="p">,</span>
        <span class="n">source_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">source_unit_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_unit_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exit_point_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">entry_point_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">source_node_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_node_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exit_point_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">entry_point_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper function for selecting `VirtualTag` objects from inside a `Node`.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        virtual_tag : VirtualTag</span>
<span class="sd">            VirtualTag object to check against the search criteria</span>

<span class="sd">        source_id : str</span>
<span class="sd">            Optional id of the source node to filter by. None by default</span>

<span class="sd">        dest_id : str</span>
<span class="sd">            Optional id of the destination node to filter by. None by default</span>

<span class="sd">        source_unit_id : int, str</span>
<span class="sd">            Optional unit id of the source to filter by. None by default</span>

<span class="sd">        dest_unit_id : int, str</span>
<span class="sd">            Optional unit id of the destination to filter by. None by default</span>

<span class="sd">        exit_point_id : str</span>
<span class="sd">            Optional id of the `exit_point` node to filter by. None by default</span>

<span class="sd">        entry_point_id : str</span>
<span class="sd">            Optional id of the `entry_point` node to filter by. None by default</span>

<span class="sd">        source_node_type : class</span>
<span class="sd">            Optional source `Node` subclass to filter by. None by default</span>

<span class="sd">        dest_node_type : class</span>
<span class="sd">            Optional destination `Node` subclass to filter by. None by default</span>

<span class="sd">        exit_point_type : class</span>
<span class="sd">            Optional `exit_point` `Node` subclass to filter by. None by default</span>

<span class="sd">        entry_point_type : class</span>
<span class="sd">            Optional `entry_point` `Node` subclass to filter by. None by default</span>

<span class="sd">        contents_type : ContentsType</span>
<span class="sd">            Optional contents to filter by. None by default</span>

<span class="sd">        tag_type : TagType</span>
<span class="sd">            Optional tag type to filter by. None by default</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether to search for objects within nodes. False by default</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if `virtual_tag` meets the filtering criteria</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">tag_type</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">virtual_tag</span><span class="o">.</span><span class="n">tag_type</span> <span class="o">==</span> <span class="n">tag_type</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">subtag</span> <span class="ow">in</span> <span class="n">virtual_tag</span><span class="o">.</span><span class="n">tags</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtag</span><span class="p">,</span> <span class="n">VirtualTag</span><span class="p">):</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_virtual_tags</span><span class="p">(</span>
                        <span class="n">subtag</span><span class="p">,</span>
                        <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                        <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                        <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                        <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                        <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                        <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                        <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                        <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                        <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                        <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                        <span class="n">tag_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="k">return</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_tags</span><span class="p">(</span>
                        <span class="n">subtag</span><span class="p">,</span>
                        <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                        <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                        <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                        <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                        <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                        <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                        <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                        <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                        <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                        <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                        <span class="n">tag_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
                        <span class="n">virtual</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="p">):</span>
                        <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Node.select_objs"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Node.select_objs">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">select_objs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">source_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">source_unit_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_unit_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exit_point_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">entry_point_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">source_node_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">dest_node_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">exit_point_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">entry_point_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">contents_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">obj_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Selects from this Node all Node, Connection, or Tag objects</span>
<span class="sd">        which match source/destination node class, unit ID, and contents.</span>
<span class="sd">        (If none given, returns all objects in `self`)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        source_id : str</span>
<span class="sd">            Optional id of the source node to filter by. None by default</span>

<span class="sd">        dest_id : str</span>
<span class="sd">            Optional id of the destination node to filter by. None by default</span>

<span class="sd">        source_unit_id : int, str</span>
<span class="sd">            Optional unit id of the source to filter by. None by default</span>

<span class="sd">        dest_unit_id : int, str</span>
<span class="sd">            Optional unit id of the destination to filter by. None by default</span>

<span class="sd">        exit_point_id : str</span>
<span class="sd">            Optional id of the `exit_point` node to filter by. None by default</span>

<span class="sd">        entry_point_id : str</span>
<span class="sd">            Optional id of the `entry_point` node to filter by. None by default</span>

<span class="sd">        source_node_type : class</span>
<span class="sd">            Optional source `Node` subclass to filter by. None by default</span>

<span class="sd">        dest_node_type : class</span>
<span class="sd">            Optional destination `Node` subclass to filter by. None by default</span>

<span class="sd">        exit_point_type : class</span>
<span class="sd">            Optional `exit_point` `Node` subclass to filter by. None by default</span>

<span class="sd">        entry_point_type : class</span>
<span class="sd">            Optional `entry_point` `Node` subclass to filter by. None by default</span>

<span class="sd">        contents_type : ContentsType</span>
<span class="sd">            Optional contents to filter by. None by default</span>

<span class="sd">        tag_type : TagType</span>
<span class="sd">            Optional tag type to filter by. None by default</span>

<span class="sd">        obj_type : [Node, Connection, VirtualTag, Tag]</span>
<span class="sd">            The type of object to filter by. None by default</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether to search for objects within nodes. False by default</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            When a source/destination node type is provided to subset tags</span>

<span class="sd">        TypeError</span>
<span class="sd">            When the objects to select among are not of</span>
<span class="sd">            type {`pype_schema.Tag`, `pype_schema.Connection`, `pype_schema.Node`}</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list</span>
<span class="sd">            List of `Tag`, `Connection`, or `Node` objects subset according to</span>
<span class="sd">            source/destination `id` and `contents_type`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">selected_objs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Select according to source/destination node type/id</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tags</span><span class="p">(</span><span class="n">virtual</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">VirtualTag</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_virtual_tags</span><span class="p">(</span>
                    <span class="n">tag</span><span class="p">,</span>
                    <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                    <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                    <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                    <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                    <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                    <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                    <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                    <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                    <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                    <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                    <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_type</span><span class="p">,</span>
                    <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
                <span class="p">):</span>
                    <span class="n">selected_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_tags</span><span class="p">(</span>
                    <span class="n">tag</span><span class="p">,</span>
                    <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                    <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                    <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                    <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                    <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                    <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                    <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                    <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                    <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                    <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                    <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_type</span><span class="p">,</span>
                    <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
                <span class="p">):</span>
                    <span class="n">selected_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">conn</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_connections</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">utils</span><span class="o">.</span><span class="n">select_objs_helper</span><span class="p">(</span>
                <span class="n">conn</span><span class="p">,</span>
                <span class="n">obj_source_node</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_source_node</span><span class="p">(),</span>
                <span class="n">obj_dest_node</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_dest_node</span><span class="p">(),</span>
                <span class="n">obj_exit_point</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_exit_point</span><span class="p">(),</span>
                <span class="n">obj_entry_point</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_entry_point</span><span class="p">(),</span>
                <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_type</span><span class="p">,</span>
                <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
            <span class="p">):</span>
                <span class="n">selected_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">conn</span><span class="o">.</span><span class="n">bidirectional</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">utils</span><span class="o">.</span><span class="n">select_objs_helper</span><span class="p">(</span>
                    <span class="n">conn</span><span class="p">,</span>
                    <span class="n">obj_source_node</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_dest_node</span><span class="p">(),</span>
                    <span class="n">obj_dest_node</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_source_node</span><span class="p">(),</span>
                    <span class="n">obj_exit_point</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_entry_point</span><span class="p">(),</span>
                    <span class="n">obj_entry_point</span><span class="o">=</span><span class="n">conn</span><span class="o">.</span><span class="n">get_exit_point</span><span class="p">(),</span>
                    <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                    <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                    <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                    <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                    <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                    <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                    <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                    <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                    <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                    <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                    <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_type</span><span class="p">,</span>
                    <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
                <span class="p">):</span>
                    <span class="n">selected_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">utils</span><span class="o">.</span><span class="n">select_objs_helper</span><span class="p">(</span>
                <span class="n">node</span><span class="p">,</span>
                <span class="n">obj_source_node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span>
                <span class="n">source_id</span><span class="o">=</span><span class="n">source_id</span><span class="p">,</span>
                <span class="n">dest_id</span><span class="o">=</span><span class="n">dest_id</span><span class="p">,</span>
                <span class="n">source_unit_id</span><span class="o">=</span><span class="n">source_unit_id</span><span class="p">,</span>
                <span class="n">dest_unit_id</span><span class="o">=</span><span class="n">dest_unit_id</span><span class="p">,</span>
                <span class="n">exit_point_id</span><span class="o">=</span><span class="n">exit_point_id</span><span class="p">,</span>
                <span class="n">entry_point_id</span><span class="o">=</span><span class="n">entry_point_id</span><span class="p">,</span>
                <span class="n">source_node_type</span><span class="o">=</span><span class="n">source_node_type</span><span class="p">,</span>
                <span class="n">dest_node_type</span><span class="o">=</span><span class="n">dest_node_type</span><span class="p">,</span>
                <span class="n">exit_point_type</span><span class="o">=</span><span class="n">exit_point_type</span><span class="p">,</span>
                <span class="n">entry_point_type</span><span class="o">=</span><span class="n">entry_point_type</span><span class="p">,</span>
                <span class="n">tag_type</span><span class="o">=</span><span class="n">tag_type</span><span class="p">,</span>
                <span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">,</span>
            <span class="p">):</span>
                <span class="n">selected_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="c1"># Select according to contents</span>
        <span class="k">if</span> <span class="n">contents_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">selected_objs</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">obj</span>
                <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">selected_objs</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;contents&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">obj</span><span class="o">.</span><span class="n">contents</span> <span class="o">==</span> <span class="n">contents_type</span>
            <span class="p">]</span>

        <span class="c1"># Select according to obj_type</span>
        <span class="k">if</span> <span class="n">obj_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">selected_objs</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">selected_objs</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">)]</span>

        <span class="k">return</span> <span class="n">selected_objs</span></div></div>


<div class="viewcode-block" id="Network"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Network">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Network</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A water utility represented as a set of connections and nodes</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Network ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the network.</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the network.</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this network</span>

<span class="sd">    nodes : dict of Node</span>
<span class="sd">        nodes in the network, e.g. pumps, tanks, or facilities</span>

<span class="sd">    connections : dict of Connections</span>
<span class="sd">        connections in the network, e.g. pipes</span>

<span class="sd">    num_units: int, default 1</span>
<span class="sd">        Number of units in the network</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Network ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the network.</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the network.</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this network</span>

<span class="sd">    nodes : dict of Node</span>
<span class="sd">        nodes in the network, e.g. pumps, tanks, or facilities</span>

<span class="sd">    connections : dict of Connections</span>
<span class="sd">        connections in the network, e.g. pipes</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of networks running in parallel</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">nodes</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">connections</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">num_units</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="o">=</span> <span class="n">connections</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Network id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;nodes:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="si">}</span><span class="s2"> connections:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">nodes</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">connections</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Network.add_node"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Network.add_node">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a node to the network</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node : Node</span>
<span class="sd">            Node object to add to the network</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span></div>

<div class="viewcode-block" id="Network.remove_node"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Network.remove_node">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a node from the network</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_name : str</span>
<span class="sd">            name of node to remove</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to removed nodes recursively.</span>
<span class="sd">            Default is False, meaning that only direct children will be removed.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            if `node_name` is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">node</span><span class="o">.</span><span class="n">remove_node</span><span class="p">(</span><span class="n">node_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                        <span class="k">return</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">):</span>
                        <span class="k">continue</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Node &quot;</span> <span class="o">+</span> <span class="n">node_name</span> <span class="o">+</span> <span class="s2">&quot; not found in network&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Network.add_connection"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Network.add_connection">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a connection to the network</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        connection : Connection</span>
<span class="sd">            Connection object to add to the network</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="p">[</span><span class="n">connection</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">connection</span></div>

<div class="viewcode-block" id="Network.remove_connection"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Network.remove_connection">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">remove_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a connection from the network</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        connection_name : str</span>
<span class="sd">            name of connection to remove</span>

<span class="sd">        recurse : bool</span>


<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        KeyError</span>
<span class="sd">            if `connection_name` is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="p">[</span><span class="n">connection_name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">node</span><span class="o">.</span><span class="n">remove_connection</span><span class="p">(</span><span class="n">connection_name</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                        <span class="k">return</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">):</span>
                        <span class="k">continue</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Connection &quot;</span> <span class="o">+</span> <span class="n">connection_name</span> <span class="o">+</span> <span class="s2">&quot; not found in network&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Network.get_list_of_type"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Network.get_list_of_type">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_list_of_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desired_type</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Searches the Facility and returns a list of all objects of `desired_type`</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        desired_type : Node or Connection subclass</span>

<span class="sd">        recurse : bool</span>
<span class="sd">            Whether or not to get objects recursively.</span>
<span class="sd">            Default is False, meaning that only direct children will be returned.</span>

<span class="sd">        Returns</span>
<span class="sd">        ------</span>
<span class="sd">        list of `desired_type`</span>
<span class="sd">            Objects of `desired_type` inside this Facility.</span>
<span class="sd">            If `recurse` is True, all children, grandchildren, etc. are returned.</span>
<span class="sd">            If False, only direct children are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">desired_objs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">desired_type</span><span class="p">,</span> <span class="n">Node</span><span class="p">):</span>
            <span class="n">objs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_nodes</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">objs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_connections</span><span class="p">(</span><span class="n">recurse</span><span class="o">=</span><span class="n">recurse</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objs</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">desired_type</span><span class="p">):</span>
                <span class="n">desired_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">desired_objs</span></div></div>


<div class="viewcode-block" id="Facility"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Facility">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Facility</span><span class="p">(</span><span class="n">Network</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing any industrial facility</span>
<span class="sd">    from wastewater treatment to desalination to solid waste management.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Facility ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the network.</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the network.</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the facility</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the facility</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the facility</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the facility</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this facility</span>

<span class="sd">    nodes : dict of Node</span>
<span class="sd">        nodes in the facility, e.g. pumps, tanks, or processes</span>

<span class="sd">    connections : dict of Connections</span>
<span class="sd">        connections in the facility, e.g. pipes</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Facility ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the facility.</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the facility.</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the facility in meters above sea level</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this facility</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the facility</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the facility</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the facility</span>

<span class="sd">    nodes : dict of Node</span>
<span class="sd">        nodes in the facility, e.g. pumps, tanks, or processes</span>

<span class="sd">    connections : dict of Connections</span>
<span class="sd">        connections in the facility, e.g. pipes</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">elevation</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">nodes</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">connections</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">=</span> <span class="n">elevation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="o">=</span> <span class="n">connections</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Facility id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> elevation:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">elevation</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;nodes:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="si">}</span><span class="s2"> connections:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">elevation</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">nodes</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">connections</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Junction"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Junction">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Junction</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A junction in the network where multiple pipes meet.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Junction ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the junction</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the junction</span>

<span class="sd">    diamater : pint.Quantity</span>
<span class="sd">        Diameter of the junction</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this junction</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">diameter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="n">diameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Junction id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;diameter:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diameter</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">diameter</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Valve"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Valve">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Valve</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A generic valve.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Valve ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the valve</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the valve</span>

<span class="sd">    diamater : pint.Quantity</span>
<span class="sd">        Diameter of the valve</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this valve</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">diameter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="n">diameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Valve id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;diameter:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diameter</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">diameter</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="PRV"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.PRV">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">PRV</span><span class="p">(</span><span class="n">Valve</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A pressure reducing valve.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Pressure release valve ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the pressure release valve</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the pressure release valve</span>

<span class="sd">    diameter : pint.Quantity</span>
<span class="sd">        Diameter of the pressure release valve</span>

<span class="sd">    pressure_setting : pint.Quantity</span>
<span class="sd">        Rated or set pressure of the valve</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this valve</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">diameter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">pressure_setting</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="n">diameter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pressure_setting</span> <span class="o">=</span> <span class="n">pressure_setting</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Valve id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;diameter:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diameter</span><span class="si">}</span><span class="s2"> pressure_setting:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pressure_setting</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">diameter</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">pressure_setting</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pressure_setting</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="ModularUnit"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.ModularUnit">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">ModularUnit</span><span class="p">(</span><span class="n">Network</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Modular Unit in the network, such as a reverse osmosis skid.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        ModularUnit ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the ModularUnit.</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the ModularUnit.</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this ModularUnit</span>

<span class="sd">    nodes : dict of Node</span>
<span class="sd">        nodes in the ModularUnit, e.g. pumps, tanks, or filters</span>

<span class="sd">    connections : dict of Connections</span>
<span class="sd">        connections in the ModularUnit, e.g. pipes</span>

<span class="sd">    num_units: int</span>
<span class="sd">         Number of units running in parallel</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        ModularUnit ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the ModularUnit.</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the ModularUnit.</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this ModularUnit</span>

<span class="sd">    nodes : dict of Node</span>
<span class="sd">        nodes in the ModularUnit, e.g. pumps, tanks, or filters</span>

<span class="sd">    num_units: int</span>
<span class="sd">        Number of units running in parallel</span>

<span class="sd">    connections : dict of Connections</span>
<span class="sd">        connections in the ModularUnit, e.g. pipes</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">nodes</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">connections</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="o">=</span> <span class="n">connections</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Network id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;nodes:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="si">}</span><span class="s2"> connections:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">nodes</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">connections</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Pump"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Pump</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Any kind of pump, such as constant speed, variable frequency drive (VFD),</span>
<span class="sd">    energy recovery device (ERD), and air blower.</span>


<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Pump ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the pump</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the pump</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the pump in meters above sea level</span>

<span class="sd">    power_rating : pint.quantity or float</span>
<span class="sd">        Rated power of a single pump (in horsepower)</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of pumps running in parallel</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate supplied by the pump</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate supplied by the pump</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate supplied by the pump</span>

<span class="sd">    pump_type : PumpType</span>
<span class="sd">        Type of pump (either VFD, ERD, AirBlower or Constant)</span>

<span class="sd">    efficiency : float</span>
<span class="sd">        efficiency of the pump</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this pump</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Pump ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the pump</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the pump</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the pump in meters above sea level</span>

<span class="sd">    power_rating : pint.quantity or float</span>
<span class="sd">        Rated power of a single pump (in horsepower)</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of pumps running in parallel</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate supplied by the pump</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate supplied by the pump</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate supplied by the pump</span>

<span class="sd">    pump_type : PumpType</span>
<span class="sd">        Type of pump (either VFD, ERD, AirBlower or Constant)</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this pump</span>

<span class="sd">    pump_curve : function</span>
<span class="sd">        Function which takes in the current flow rate and returns the energy</span>
<span class="sd">        required to pump at that rate</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">elevation</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">power_rating</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">pump_type</span><span class="o">=</span><span class="n">utils</span><span class="o">.</span><span class="n">PumpType</span><span class="o">.</span><span class="n">Constant</span><span class="p">,</span>
        <span class="n">efficiency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">=</span> <span class="n">elevation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pump_type</span> <span class="o">=</span> <span class="n">pump_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">power_rating</span> <span class="o">=</span> <span class="n">power_rating</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">=</span> <span class="n">efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_pump_curve</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_efficiency</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Pump id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> elevation:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">elevation</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;power_rating:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">power_rating</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;pump_type:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pump_type</span><span class="si">}</span><span class="s2"> efficiency:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># TODO: add a way to compare pump_curve since it is a function</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">elevation</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">pump_type</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pump_type</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_rating</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">power_rating</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">efficiency</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">efficiency</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Pump.set_pump_curve"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump.set_pump_curve">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_pump_curve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pump_curve</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the pump curve to the given function</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pump_curve : function</span>
<span class="sd">            function which takes in the current flow rate and returns the energy</span>
<span class="sd">            required to pump at that rate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: type check that pump_curve is a function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pump_curve</span> <span class="o">=</span> <span class="n">pump_curve</span></div>

<div class="viewcode-block" id="Pump.get_efficiency"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump.get_efficiency">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_efficiency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_efficiency</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Please add `efficiency` attribute&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Pump.set_efficiency"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump.set_efficiency">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_efficiency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_efficiency</span> <span class="o">=</span> <span class="n">efficiency</span></div>

<div class="viewcode-block" id="Pump.del_efficiency"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump.del_efficiency">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_efficiency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_efficiency</span></div>

<div class="viewcode-block" id="Pump.get_power_rating"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump.get_power_rating">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_power_rating</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_power_rating</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `horsepower` to new `power_rating` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">horsepower</span></div>

<div class="viewcode-block" id="Pump.set_power_rating"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump.set_power_rating">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_power_rating</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">power_rating</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_power_rating</span> <span class="o">=</span> <span class="n">power_rating</span></div>

<div class="viewcode-block" id="Pump.del_power_rating"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Pump.del_power_rating">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_power_rating</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_power_rating</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;horsepower&quot;</span><span class="p">):</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `horsepower` to new `power_rating` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">horsepower</span></div>

    <span class="n">efficiency</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_efficiency</span><span class="p">,</span> <span class="n">set_efficiency</span><span class="p">,</span> <span class="n">del_efficiency</span><span class="p">)</span>
    <span class="n">power_rating</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_power_rating</span><span class="p">,</span> <span class="n">set_power_rating</span><span class="p">,</span> <span class="n">del_power_rating</span><span class="p">)</span></div>


<div class="viewcode-block" id="Tank"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Tank">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Tank</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A generic class to represent a storage tank.</span>
<span class="sd">    Any `input_contents` and `output_contents` can be provided</span>
<span class="sd">    and metadata such as `volume` and `elevation` can be specified.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Tank ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the tank</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the tank</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the tank in meters above sea level</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the tank in cubic meters</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of identical tanks in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this tank</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Tank ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the tank.</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the tank.</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the tank in meters above sea level</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the tank in cubic meters</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of identical tanks in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this tank</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">elevation</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">num_units</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">=</span> <span class="n">elevation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Tank id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> elevation:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">elevation</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">elevation</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Tank.get_num_units"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Tank.get_num_units">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_num_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_units</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please add `num_units` attribute to `Tank`&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="Tank.set_num_units"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Tank.set_num_units">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_num_units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_units</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_num_units</span> <span class="o">=</span> <span class="n">num_units</span></div>

<div class="viewcode-block" id="Tank.del_num_units"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Tank.del_num_units">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_num_units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_num_units</span></div>

    <span class="n">num_units</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_num_units</span><span class="p">,</span> <span class="n">set_num_units</span><span class="p">,</span> <span class="n">del_num_units</span><span class="p">)</span></div>


<div class="viewcode-block" id="Reactor"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Reactor">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Reactor</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A reactor modeled as a basic tank with chemical dosing point(s).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Reactor ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the reactor</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the reactor</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the reactor</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the reactor</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the reactor</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of reactor in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the reactor in cubic meters</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the reactor</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the reactor (key: DosingType, value: rate)</span>

<span class="sd">    pH : float</span>
<span class="sd">        pH value for the reactor</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this reactor</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Reactor ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the reactor</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the reactor</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the reactor</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the reactor</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the reactor</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of reactors</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the reactor in cubic meters</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the reactor</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the reactor (key: DosingType, value: rate)</span>

<span class="sd">    pH : float</span>
<span class="sd">        pH value for the reactor</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of reactors in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this reactor</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">residence_time</span><span class="p">,</span>
        <span class="n">dosing_rate</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">pH</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_rate</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pH</span> <span class="o">=</span> <span class="n">pH</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">=</span> <span class="n">residence_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Reactor id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;dosing_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span><span class="si">}</span><span class="s2"> pH:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pH</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;residence_time:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">pH</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pH</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">residence_time</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Reactor.get_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Reactor.get_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_rate</span></div>

<div class="viewcode-block" id="Reactor.set_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Reactor.set_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dosing_rate</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;rate&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Reactor.del_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Reactor.del_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_rate</span></div>

    <span class="n">dosing_rate</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_dosing_rate</span><span class="p">,</span> <span class="n">set_dosing_rate</span><span class="p">,</span> <span class="n">del_dosing_rate</span><span class="p">)</span></div>


<div class="viewcode-block" id="StaticMixer"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.StaticMixer">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">StaticMixer</span><span class="p">(</span><span class="n">Reactor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A tank containing a static mixer,</span>
<span class="sd">    typically used for coagulation in water treatment.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        StaticMixer ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the mixer</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the mixer</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the mixer</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the mixer</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the mixer</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of mixers in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the mixer in cubic meters</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the mixer</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the mixer (key: DosingType, value: rate)</span>

<span class="sd">    pH : float</span>
<span class="sd">        pH value for the mixer</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this mixer</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        StaticMixer ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the mixer</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the mixer</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the mixer</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the mixer</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the mixer</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of mixers in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the mixer in cubic meters</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the mixer</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the mixer (key: DosingType, value: rate)</span>

<span class="sd">    pH : float</span>
<span class="sd">        pH value for the mixer</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this mixer</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">residence_time</span><span class="p">,</span>
        <span class="n">dosing_rate</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">pH</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_rate</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pH</span> <span class="o">=</span> <span class="n">pH</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">=</span> <span class="n">residence_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.StaticMixer id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;dosing_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span><span class="si">}</span><span class="s2"> pH:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pH</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;residence_time:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">pH</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pH</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">residence_time</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Reservoir"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Reservoir">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Reservoir</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A generic reservoir used to represent lakes and oceans in addition</span>
<span class="sd">    to manmade bodies of water.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Reservoir ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the reservoir.</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the reservoir.</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the reservoir in meters above sea level</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the reservoir in cubic meters</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this reservoir</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Reservoir ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the reservoir.</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the reservoir.</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the reservoir in meters above sea level</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the reservoir in cubic meters</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this reservoir</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">elevation</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">=</span> <span class="n">elevation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Reservoir id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> elevation:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">elevation</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">elevation</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Battery"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Battery</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A generic battery with metadata such as roundtrip efficiency (RTE),</span>
<span class="sd">    energy capacity, and charge/discharge rates.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Battery ID</span>

<span class="sd">    energy_capacity : int</span>
<span class="sd">        Energy storage capacity of the battery in kWh</span>

<span class="sd">    charge_rate : int</span>
<span class="sd">        Maximum charge rate of the battery in kW</span>

<span class="sd">    discharge_rate : int</span>
<span class="sd">        Maximum discharge rate of the battery in kW</span>

<span class="sd">    rte : float</span>
<span class="sd">        Round trip efficiency of the battery</span>

<span class="sd">    leakage : pint.Quantity or float</span>
<span class="sd">        Leakage of the battery as a Pint Quantity</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this battery</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Battery ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the battery.</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the battery.</span>

<span class="sd">    energy_capacity : int</span>
<span class="sd">        Energy storage capacity of the battery in kWh</span>

<span class="sd">    charge_rate : int</span>
<span class="sd">        Maximum discharge rate of the battery in kW</span>

<span class="sd">    discharge_rate : int</span>
<span class="sd">        Maximum discharge rate of the battery in kW</span>

<span class="sd">    rte : float</span>
<span class="sd">        Round trip efficiency of the battery</span>

<span class="sd">    leakage : pint.Quantity or float</span>
<span class="sd">        Leakage of the battery as a Pint Quantity</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this battery</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">energy_capacity</span><span class="p">,</span>
        <span class="n">charge_rate</span><span class="p">,</span>
        <span class="n">discharge_rate</span><span class="p">,</span>
        <span class="n">rte</span><span class="p">,</span>
        <span class="n">leakage</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">=</span> <span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="o">.</span><span class="n">Electricity</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">=</span> <span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="o">.</span><span class="n">Electricity</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">energy_capacity</span> <span class="o">=</span> <span class="n">energy_capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">charge_rate</span> <span class="o">=</span> <span class="n">charge_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">discharge_rate</span> <span class="o">=</span> <span class="n">discharge_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rte</span> <span class="o">=</span> <span class="n">rte</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leakage</span> <span class="o">=</span> <span class="n">leakage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Battery id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;energy_capacity:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">energy_capacity</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;charge_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">charge_rate</span><span class="si">}</span><span class="s2"> discharge_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">discharge_rate</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;rte:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rte</span><span class="si">}</span><span class="s2"> leakage:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">leakage</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">energy_capacity</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">energy_capacity</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">charge_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">charge_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">discharge_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">discharge_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">rte</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">rte</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">leakage</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">leakage</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Battery.get_rte"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.get_rte">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_rte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rte</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Battery.set_rte"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.set_rte">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_rte</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rte</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rte</span> <span class="o">=</span> <span class="n">rte</span></div>

<div class="viewcode-block" id="Battery.del_rte"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.del_rte">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_rte</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rte</span></div>

<div class="viewcode-block" id="Battery.get_leakage"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.get_leakage">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_leakage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_leakage</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Battery.set_leakage"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.set_leakage">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_leakage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">leakage</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_leakage</span> <span class="o">=</span> <span class="n">leakage</span></div>

<div class="viewcode-block" id="Battery.del_leakage"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.del_leakage">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_leakage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_leakage</span></div>

<div class="viewcode-block" id="Battery.get_energy_capacity"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.get_energy_capacity">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_energy_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_energy_capacity</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `capacity` to new `energy_capacity` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">capacity</span></div>

<div class="viewcode-block" id="Battery.set_energy_capacity"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.set_energy_capacity">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_energy_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">energy_capacity</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_energy_capacity</span> <span class="o">=</span> <span class="n">energy_capacity</span></div>

<div class="viewcode-block" id="Battery.del_energy_capacity"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.del_energy_capacity">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_energy_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_energy_capacity</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;capacity&quot;</span><span class="p">):</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `capacity` to new `energy_capacity` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">capacity</span></div>

<div class="viewcode-block" id="Battery.get_charge_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.get_charge_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_charge_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_charge_rate</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please add `charge_rate` in addition to `discharge_rate` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">discharge_rate</span></div>

<div class="viewcode-block" id="Battery.set_charge_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.set_charge_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_charge_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">charge_rate</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_charge_rate</span> <span class="o">=</span> <span class="n">charge_rate</span></div>

<div class="viewcode-block" id="Battery.del_charge_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Battery.del_charge_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_charge_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_charge_rate</span></div>

    <span class="n">leakage</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_leakage</span><span class="p">,</span> <span class="n">set_leakage</span><span class="p">,</span> <span class="n">del_leakage</span><span class="p">)</span>
    <span class="n">rte</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_rte</span><span class="p">,</span> <span class="n">set_rte</span><span class="p">,</span> <span class="n">del_rte</span><span class="p">)</span>
    <span class="n">charge_rate</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_charge_rate</span><span class="p">,</span> <span class="n">set_charge_rate</span><span class="p">,</span> <span class="n">del_charge_rate</span><span class="p">)</span>
    <span class="n">energy_capacity</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">get_energy_capacity</span><span class="p">,</span> <span class="n">set_energy_capacity</span><span class="p">,</span> <span class="n">del_energy_capacity</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="Digestion"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Digestion">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Digestion</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing a sludge digester, either aerobic or anaerobic.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Digester ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the digester (e.g. biogas or wastewater)</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the digester (e.g. biogas or wastewater)</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the digester</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the digester</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the digester</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of digesters running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the digester in cubic meters</span>

<span class="sd">    digester_type : DigesterType</span>
<span class="sd">        Type of digestion (aerobic or anaerobic)</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this digester</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Digester ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the digester (e.g. biogas or wastewater)</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the digester (e.g. biogas or wastewater)</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of digesters running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the digester in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate through the digester</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate through the digester</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate through the digester</span>

<span class="sd">    digester_type : DigesterType</span>
<span class="sd">        Type of digestion (aerobic or anaerobic)</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this digester</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">digester_type</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">digester_type</span> <span class="o">=</span> <span class="n">digester_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Digestion id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;digester_type:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">digester_type</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">digester_type</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">digester_type</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Cogeneration"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Cogeneration</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing a cogeneration engine that produces</span>
<span class="sd">    both heat and electricity through biogas and/or natural gas combustion.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Cogenerator ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the cogenerator</span>

<span class="sd">    min_gen : int</span>
<span class="sd">        Minimum generation capacity of a single cogenerator</span>

<span class="sd">    max_gen : int</span>
<span class="sd">        Maximum generation capacity of a single cogenerator</span>

<span class="sd">    design_gen : int</span>
<span class="sd">        Design generation capacity of a single cogenerator</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of cogenerator units running in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this cogenerator</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Cogenerator ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the cogenerator</span>
<span class="sd">        (biogas, natural gas, or a blend of the two)</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the cogenerator (Electricity)</span>

<span class="sd">    min_gen : int</span>
<span class="sd">        Minimum generation capacity of a single cogenerator</span>

<span class="sd">    max_gen : int</span>
<span class="sd">        Maximum generation capacity of a single cogenerator</span>

<span class="sd">    design_gen : int</span>
<span class="sd">        Average generation capacity of a single cogenerator</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of cogenerator units running in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this cogenerator</span>

<span class="sd">    electrical_efficiency : function</span>
<span class="sd">        Function which takes in the current kWh and returns</span>
<span class="sd">        the electrical efficiency as a fraction</span>

<span class="sd">    thermal_efficiency : function</span>
<span class="sd">        Function which takes in the current kWh and returns</span>
<span class="sd">        the thermal efficiency as a fraction</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">input_contents</span><span class="p">,</span> <span class="n">min_gen</span><span class="p">,</span> <span class="n">max_gen</span><span class="p">,</span> <span class="n">design_gen</span><span class="p">,</span> <span class="n">num_units</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{}</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">=</span> <span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="o">.</span><span class="n">Electricity</span><span class="p">,</span> <span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="o">.</span><span class="n">Heat</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_gen</span> <span class="o">=</span> <span class="n">min_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_gen</span> <span class="o">=</span> <span class="n">max_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_gen</span> <span class="o">=</span> <span class="n">design_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_electrical_efficiency</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_thermal_efficiency</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Cogeneration id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> min_gen:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_gen</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;max_gen:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_gen</span><span class="si">}</span><span class="s2"> design_gen:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_gen</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_gen</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_gen</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_gen</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_gen</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_gen</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_gen</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Cogeneration.set_gen_capacity"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.set_gen_capacity">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_gen_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">design</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the minimum, maximum, and average generation capacity</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        min : int</span>
<span class="sd">            Minimum generation by a single cogenerator</span>

<span class="sd">        max : int</span>
<span class="sd">            Maximum generation by a single cogenerator</span>

<span class="sd">        design : int</span>
<span class="sd">            Design generation by a single cogenerator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;Please switch from `gen_capacity` tuple to new separate &quot;</span>
            <span class="o">+</span> <span class="s2">&quot;`min_gen`, `max_gen` and `design_gen` attributes&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">design</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_min_gen</span> <span class="o">=</span> <span class="nb">min</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_gen</span> <span class="o">=</span> <span class="nb">max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_design_gen</span> <span class="o">=</span> <span class="n">design</span></div>

<div class="viewcode-block" id="Cogeneration.get_min_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.get_min_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_min_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_gen</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `gen_capacity` tuple to new `min_gen` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="Cogeneration.set_min_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.set_min_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_min_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_gen</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_min_gen</span> <span class="o">=</span> <span class="n">min_gen</span></div>

<div class="viewcode-block" id="Cogeneration.del_min_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.del_min_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_min_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_gen</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;gen_capacity&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="Cogeneration.get_max_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.get_max_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_max_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_gen</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `gen_capacity` tuple to new `max_gen` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="Cogeneration.set_max_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.set_max_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_max_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_gen</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_gen</span> <span class="o">=</span> <span class="n">max_gen</span></div>

<div class="viewcode-block" id="Cogeneration.del_max_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.del_max_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_max_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_gen</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;gen_capacity&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span></div>

<div class="viewcode-block" id="Cogeneration.get_design_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.get_design_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_design_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_design_gen</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `gen_capacity` tuple to new `design_gen` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

<div class="viewcode-block" id="Cogeneration.set_design_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.set_design_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_design_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">design_gen</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_design_gen</span> <span class="o">=</span> <span class="n">design_gen</span></div>

<div class="viewcode-block" id="Cogeneration.del_design_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.del_design_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_design_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_design_gen</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;gen_capacity&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span></div>

    <span class="n">min_gen</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_min_gen</span><span class="p">,</span> <span class="n">set_min_gen</span><span class="p">,</span> <span class="n">del_min_gen</span><span class="p">)</span>
    <span class="n">max_gen</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_max_gen</span><span class="p">,</span> <span class="n">set_max_gen</span><span class="p">,</span> <span class="n">del_max_gen</span><span class="p">)</span>
    <span class="n">design_gen</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_design_gen</span><span class="p">,</span> <span class="n">set_design_gen</span><span class="p">,</span> <span class="n">del_design_gen</span><span class="p">)</span>

<div class="viewcode-block" id="Cogeneration.set_electrical_efficiency"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.set_electrical_efficiency">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_electrical_efficiency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency_curve</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the cogeneration efficiency to the given function</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        efficiency_curve : function</span>
<span class="sd">            function takes in the current kWh and returns the fractional efficency</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: type check that efficiency_curve is a function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">electrical_efficiency</span> <span class="o">=</span> <span class="n">efficiency_curve</span></div>

<div class="viewcode-block" id="Cogeneration.set_thermal_efficiency"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Cogeneration.set_thermal_efficiency">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_thermal_efficiency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency_curve</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the cogeneration efficiency to the given function</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        efficiency_curve : function</span>
<span class="sd">            function takes in the current kWh and returns the fractional efficency</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: type check that efficiency_curve is a function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_efficiency</span> <span class="o">=</span> <span class="n">efficiency_curve</span></div></div>


<div class="viewcode-block" id="Boiler"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Boiler</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing a boiler that produces heat through natural gas combustion.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Boiler ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the boiler</span>

<span class="sd">    min_gen : int</span>
<span class="sd">        Minimum generation capacity of a single boiler</span>

<span class="sd">    max_gen : int</span>
<span class="sd">        Maximum generation capacity of a single boiler</span>

<span class="sd">    design_gen : int</span>
<span class="sd">        Design generation capacity of a single boiler</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of boiler units running in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this boiler</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Boiler ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the boiler</span>
<span class="sd">        (biogas, natural gas, or a blend of the two)</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the boiler (Electricity)</span>

<span class="sd">    min_gen : int</span>
<span class="sd">        Minimum generation capacity of a single boiler</span>

<span class="sd">    max_gen : int</span>
<span class="sd">        Maximum generation capacity of a single boiler</span>

<span class="sd">    design_gen : int</span>
<span class="sd">        Design generation capacity of a single boiler</span>


<span class="sd">    num_units : int</span>
<span class="sd">        Number of boiler units running in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this boiler</span>

<span class="sd">    thermal_efficiency : function</span>
<span class="sd">        Function which takes in the current kWh and returns</span>
<span class="sd">        the efficiency as a fraction</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">input_contents</span><span class="p">,</span> <span class="n">min_gen</span><span class="p">,</span> <span class="n">max_gen</span><span class="p">,</span> <span class="n">design_gen</span><span class="p">,</span> <span class="n">num_units</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{}</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">=</span> <span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="o">.</span><span class="n">Heat</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_gen</span> <span class="o">=</span> <span class="n">min_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_gen</span> <span class="o">=</span> <span class="n">max_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_gen</span> <span class="o">=</span> <span class="n">design_gen</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_thermal_efficiency</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Boiler id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;min_gen:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_gen</span><span class="si">}</span><span class="s2"> max_gen:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_gen</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_gen:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_gen</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_gen</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_gen</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_gen</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_gen</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_gen</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_gen</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Boiler.set_gen_capacity"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.set_gen_capacity">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_gen_capacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">design</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the minimum, maximum, and average generation capacity</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        min : int</span>
<span class="sd">            Minimum generation by a single cogenerator</span>

<span class="sd">        max : int</span>
<span class="sd">            Maximum generation by a single cogenerator</span>

<span class="sd">        design : int</span>
<span class="sd">            Design generation by a single cogenerator</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;Please switch from `gen_capacity` tuple to new separate &quot;</span>
            <span class="o">+</span> <span class="s2">&quot;`min_gen`, `max_gen` and `design_gen` attributes&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">design</span><span class="p">)</span></div>

<div class="viewcode-block" id="Boiler.get_min_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.get_min_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_min_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_gen</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `gen_capacity` tuple to new `min_gen` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="Boiler.set_min_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.set_min_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_min_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_gen</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_min_gen</span> <span class="o">=</span> <span class="n">min_gen</span></div>

<div class="viewcode-block" id="Boiler.del_min_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.del_min_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_min_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_gen</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;gen_capacity&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Boiler.get_max_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.get_max_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_max_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_gen</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `gen_capacity` tuple to new `max_gen` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="Boiler.set_max_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.set_max_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_max_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_gen</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_gen</span> <span class="o">=</span> <span class="n">max_gen</span></div>

<div class="viewcode-block" id="Boiler.del_max_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.del_max_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_max_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_gen</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;gen_capacity&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Boiler.get_design_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.get_design_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_design_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_design_gen</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;Please switch from `gen_capacity` tuple to new `design_gen` attribute&quot;</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></div>

<div class="viewcode-block" id="Boiler.set_design_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.set_design_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_design_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">design_gen</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_design_gen</span> <span class="o">=</span> <span class="n">design_gen</span></div>

<div class="viewcode-block" id="Boiler.del_design_gen"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.del_design_gen">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_design_gen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_design_gen</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;gen_capacity&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gen_capacity</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="n">min_gen</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_min_gen</span><span class="p">,</span> <span class="n">set_min_gen</span><span class="p">,</span> <span class="n">del_min_gen</span><span class="p">)</span>
    <span class="n">max_gen</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_max_gen</span><span class="p">,</span> <span class="n">set_max_gen</span><span class="p">,</span> <span class="n">del_max_gen</span><span class="p">)</span>
    <span class="n">design_gen</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_design_gen</span><span class="p">,</span> <span class="n">set_design_gen</span><span class="p">,</span> <span class="n">del_design_gen</span><span class="p">)</span>

<div class="viewcode-block" id="Boiler.set_thermal_efficiency"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Boiler.set_thermal_efficiency">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_thermal_efficiency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">efficiency_curve</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the cogeneration efficiency to the given function</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        efficiency_curve : function</span>
<span class="sd">            function takes in the current kWh and returns the fractional efficency</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: type check that efficiency_curve is a function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thermal_efficiency</span> <span class="o">=</span> <span class="n">efficiency_curve</span></div></div>


<div class="viewcode-block" id="Clarification"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Clarification">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Clarification</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing a generic clarifier,</span>
<span class="sd">    sedimentation tank, or settling basin.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Clarifier ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the clarifier</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the clarifier</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single clarifier</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single clarifier</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single clarifier</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of clarifiers running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the clarifier in cubic meters</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this clarifier</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Clarifier ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the clarifier</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the clarifier</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of clarifiers running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single clarifier in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single clarifier</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single clarifier</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single clarifier</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this clarifier</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Clarification id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Filtration"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Filtration">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Filtration</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The parent class for a wide range of filtration methods,</span>
<span class="sd">    such as sand filters, trickling filters, or reverse osmosis membranes.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Filter ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the filter</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the filter</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single filter</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single filter</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single filter</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of filters running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single filter in cubic meters</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the filter (key: DosingType, value: rate)</span>

<span class="sd">    settling_time : pint.quantity or float</span>
<span class="sd">        time it takes for the filter to reach the desired operation mode in seconds</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this filter</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Filter ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the filter</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the filter</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of filters running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single filter in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single filter</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single filter</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single filter</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the filter (key: DosingType, value: rate)</span>

<span class="sd">    settling_time : pint.quantity or float</span>
<span class="sd">        time it takes for the filter to reach the desired operation mode</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this filter</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">dosing_rate</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">settling_time</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_rate</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settling_time</span> <span class="o">=</span> <span class="n">settling_time</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Filtration id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> dosing_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;settling_time:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">settling_time</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settling_time</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">settling_time</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Filtration.get_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Filtration.get_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_rate</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Please add `dosing_rate` attribute&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span></div>

<div class="viewcode-block" id="Filtration.set_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Filtration.set_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dosing_rate</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;rate&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Filtration.del_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Filtration.del_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_rate</span></div>

    <span class="n">dosing_rate</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_dosing_rate</span><span class="p">,</span> <span class="n">set_dosing_rate</span><span class="p">,</span> <span class="n">del_dosing_rate</span><span class="p">)</span></div>


<div class="viewcode-block" id="ROMembrane"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.ROMembrane">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">ROMembrane</span><span class="p">(</span><span class="n">Filtration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for representing a reverse osmosis membrane process.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        ROMembrane ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the RO membrane</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the RO membrane</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of the RO membrane</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of the RO membrane</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single filter</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of RO membranes running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the RO membrane in cubic meters</span>

<span class="sd">    area : pint.quantity or float</span>
<span class="sd">        Area of the RO membrane in square meters</span>

<span class="sd">    permeability : pint.quantity or float</span>
<span class="sd">        Permeability of the RO membrane</span>

<span class="sd">    selectivity : pint.quantity or float</span>
<span class="sd">        Selectivity of the RO membrane</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the RO membrane (key: DosingType, value: rate)</span>

<span class="sd">    settling_time : pint.quantity or float</span>
<span class="sd">        time it takes for the filter to reach the desired operation mode</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with the RO membrane</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        ROMembrane ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the RO membrane</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the RO membrane</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of RO membranes running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single filter in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single filter</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single filter</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single filter</span>

<span class="sd">    area : float</span>
<span class="sd">        Area of the RO membrane in square meters</span>

<span class="sd">    permeability : float</span>
<span class="sd">        Permeability of the RO membrane</span>

<span class="sd">    selectivity : float</span>
<span class="sd">        Selectivity of the RO membrane</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the RO membrane (key: DosingType, value: rate)</span>

<span class="sd">    settling_time : pint.quantity or float</span>
<span class="sd">        time it takes for the filter to reach the desired operation mode</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with the RO membrane</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">area</span><span class="p">,</span>
        <span class="n">permeability</span><span class="p">,</span>
        <span class="n">selectivity</span><span class="p">,</span>
        <span class="n">dosing_rate</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">settling_time</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="n">area</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">permeability</span> <span class="o">=</span> <span class="n">permeability</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectivity</span> <span class="o">=</span> <span class="n">selectivity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_rate</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settling_time</span> <span class="o">=</span> <span class="n">settling_time</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Filtration.ROMembrane id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> area:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">area</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;permeability:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">permeability</span><span class="si">}</span><span class="s2"> selectivity:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">selectivity</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;dosing_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span><span class="si">}</span><span class="s2"> settling_time:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">settling_time</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">area</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">permeability</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">permeability</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectivity</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">selectivity</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settling_time</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">settling_time</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Screening"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Screening">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Screening</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing the screening process for removing</span>
<span class="sd">    large solids from the intake of a facility, such as a bar screen.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Screen ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the screen</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the screen</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single screen</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single screen</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single screen</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of screens running in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this screen</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Screen ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the screen</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the screen</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of screens running in parallel</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single screen</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single screen</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single screen</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this screen</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Screening id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Conditioning"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Conditioning">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Conditioning</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for representing biogas conditioners.</span>
<span class="sd">    The conditioner prepares &#39;raw&#39; biogas from the digester</span>
<span class="sd">    by removing impurities and readying it for combustion</span>
<span class="sd">    for `Cogeneration`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Conditioner ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the biogas conditioner</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the biogas conditioner</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single biogas conditioner</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single biogas conditioner</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single biogas conditioner</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of biogas conditioners running in parallel</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this biogas conditioner</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Conditioner ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the biogas conditioner</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the biogas conditioner</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of biogas conditioners running in parallel</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single biogas conditioner</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single biogas conditioner</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single biogas conditioner</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this screen</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Conditioning id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Thickening"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Thickening">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Thickening</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class to represent a general thickener,</span>
<span class="sd">    such as gravity belt, dissolved air float (DAF),</span>
<span class="sd">    or centrifugal thickening.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Thickener ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the thickener</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the thickener</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single thickener</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single thickener</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single thickener</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of thickeners running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single thickener in cubic meters</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this thickener</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Thickener ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the thickener</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the thickener</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of thickeners running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single thickener in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single thickener</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single thickener</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single thickener</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this thickener</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Thickening id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Aeration"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Aeration">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Aeration</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A generic class for an aeration basin.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Aerator ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the aeration basin</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the aeration basin</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single aeration basin</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single aeration basin</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single aeration basin</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of aeration basins running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single aeration basin in cubic meters</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this aerator</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Aerator ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the aeration basin</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the aeration basin</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of aeration basins running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single aeration basin in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single aeration basin</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single aeration basin</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single aeration basin</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this aerator</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Aeration id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Disinfection"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Disinfection">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Disinfection</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A generic class for a disinfection process,</span>
<span class="sd">    such as chlorination, ozone, or UV light.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Disinfector ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the disinfector</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the disinfector</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single disinfector</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single disinfector</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single disinfector</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of disinfectors running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single disinfectors in cubic meters</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the disinfector (key: DosingType, value: rate)</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the disinfector</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this disinfector</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Disinfector ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the disinfector</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the disinfector</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of disinfector running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single disinfector in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single disinfector</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single disinfector</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single disinfector</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the disinfector (key: DosingType, value: rate)</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the disinfector</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this disinfector</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">dosing_rate</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">residence_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_rate</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">=</span> <span class="n">residence_time</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Disinfection id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;dosing_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span><span class="si">}</span><span class="s2"> residence_time:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">residence_time</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Disinfection.get_residence_time"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Disinfection.get_residence_time">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_residence_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_res_time</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Please add `residence_time` attribute&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="Disinfection.set_residence_time"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Disinfection.set_residence_time">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_residence_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">residence_time</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_res_time</span> <span class="o">=</span> <span class="n">residence_time</span></div>

<div class="viewcode-block" id="Disinfection.del_residence_time"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Disinfection.del_residence_time">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_residence_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_res_time</span></div>

<div class="viewcode-block" id="Disinfection.get_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Disinfection.get_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_rate</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Please add `dosing_rate` attribute&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span></div>

<div class="viewcode-block" id="Disinfection.set_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Disinfection.set_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dosing_rate</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;rate&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Disinfection.del_dosing_rate"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Disinfection.del_dosing_rate">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_dosing_rate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_rate</span></div>

    <span class="n">residence_time</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span>
        <span class="n">get_residence_time</span><span class="p">,</span> <span class="n">set_residence_time</span><span class="p">,</span> <span class="n">del_residence_time</span>
    <span class="p">)</span>
    <span class="n">dosing_rate</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_dosing_rate</span><span class="p">,</span> <span class="n">set_dosing_rate</span><span class="p">,</span> <span class="n">del_dosing_rate</span><span class="p">)</span></div>


<div class="viewcode-block" id="Chlorination"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Chlorination">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Chlorination</span><span class="p">(</span><span class="n">Disinfection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for a chlorination basin.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Chlorinator ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the chlorinator</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the chlorinator</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single chlorinator</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single chlorinator</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single chlorinator</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of chlorinators running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single chlorinator in cubic meters</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the chlorinator (key: DosingType, value: rate)</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the chlorinator</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this chlorinator</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Chlorinator ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the chlorinator</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the chlorinator</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of chlorinators running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single chlorinator in cubic meters</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single chlorinator</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single chlorinator</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single chlorinator</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        Dosing information for the chlorinator (key: DosingType, value: rate)</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Residence time of the chlorinator</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this chlorinator</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">dosing_rate</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">residence_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_rate</span><span class="p">(</span><span class="n">dosing_rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">=</span> <span class="n">residence_time</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Chlorination id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;dosing_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span><span class="si">}</span><span class="s2"> residence_time:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">residence_time</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="UVSystem"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.UVSystem">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">UVSystem</span><span class="p">(</span><span class="n">Disinfection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        UV System ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the UV system</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the UV system</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single UV system</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single UV system</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single UV system</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of UV systems running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single UV system in cubic meters</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Time in seconds that the water is exposed to UV light</span>

<span class="sd">    intensity : pint.Quantity or float</span>
<span class="sd">        Intensity of the UV light in W/m^2</span>

<span class="sd">    area : pint.Quantity or float</span>
<span class="sd">        Application area of the UV light in m^2</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this UV system</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        UVSystem ID</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single UV system</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single UV system</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single UV system</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of chlorinators running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of a single UV system in cubic meters</span>

<span class="sd">    residence_time : pint.Quantity or float</span>
<span class="sd">        Time in seconds that the water is exposed to UV light</span>

<span class="sd">    dosing_rate : dict of DosingType:float</span>
<span class="sd">        UV intensity in the UV system</span>

<span class="sd">    dosing_area : dict of DosingType:float</span>
<span class="sd">        Area of the UV system that is exposed to UV light</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this UV system</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">residence_time</span><span class="p">,</span>
        <span class="n">intensity</span><span class="p">,</span>
        <span class="n">area</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">=</span> <span class="n">residence_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_rate</span><span class="p">({</span><span class="s2">&quot;UVLight&quot;</span><span class="p">:</span> <span class="n">intensity</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing_area</span><span class="p">({</span><span class="s2">&quot;UVLight&quot;</span><span class="p">:</span> <span class="n">area</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.UVSystem id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;residence_time:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span><span class="si">}</span><span class="s2"> dosing_rate:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;dosing_area:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dosing_area</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">residence_time</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">residence_time</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_rate</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_rate</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dosing_area</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">dosing_area</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span>

<div class="viewcode-block" id="UVSystem.get_dosing_area"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.UVSystem.get_dosing_area">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_dosing_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_area</span></div>

<div class="viewcode-block" id="UVSystem.set_dosing_area"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.UVSystem.set_dosing_area">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_dosing_area</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dosing_area</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dosing</span><span class="p">(</span><span class="n">dosing_area</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;area&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="UVSystem.del_dosing_area"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.UVSystem.del_dosing_area">[docs]</a>    <span class="k">def</span><span class="w"> </span><span class="nf">del_dosing_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dosing_area</span></div>

    <span class="n">dosing_area</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_dosing_area</span><span class="p">,</span> <span class="n">set_dosing_area</span><span class="p">,</span> <span class="n">del_dosing_area</span><span class="p">)</span></div>


<div class="viewcode-block" id="Flaring"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Flaring">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Flaring</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Flare ID</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of flares running in parallel</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single flare</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single flare</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single flare</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this flare</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Flare ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the flare</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of flares running in parallel</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single flare</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single flare</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single flare</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this flare</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">num_units</span><span class="p">,</span> <span class="n">min_flow</span><span class="p">,</span> <span class="n">max_flow</span><span class="p">,</span> <span class="n">design_flow</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{}):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">=</span> <span class="p">[</span><span class="n">utils</span><span class="o">.</span><span class="n">ContentsType</span><span class="o">.</span><span class="n">Biogas</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Flaring id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Separator"><a class="viewcode-back" href="../../pype_schema.html#pype_schema.node.Separator">[docs]</a><span class="k">class</span><span class="w"> </span><span class="nc">Separator</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class representing a separator that divides a mixture into its components,</span>
<span class="sd">    such as air separation units that produce high purity oxygen and nitrogen.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Separator ID</span>

<span class="sd">    input_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents entering the separator (e.g., Air)</span>

<span class="sd">    output_contents : ContentsType or list of ContentsType</span>
<span class="sd">        Contents leaving the separator (e.g., Oxygen, IdealGas for Nitrogen)</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single separator</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single separator</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single separator</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of separators running in parallel</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the separator in cubic meters</span>

<span class="sd">    power_rating : pint.quantity or float</span>
<span class="sd">        Rated power of a single separator (in horsepower or kW)</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the separator in meters above sea level</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this separator</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : str</span>
<span class="sd">        Separator ID</span>

<span class="sd">    input_contents : list of ContentsType</span>
<span class="sd">        Contents entering the separator</span>

<span class="sd">    output_contents : list of ContentsType</span>
<span class="sd">        Contents leaving the separator</span>

<span class="sd">    num_units : int</span>
<span class="sd">        Number of separators running in parallel</span>

<span class="sd">    min_flow : pint.quantity or float</span>
<span class="sd">        Minimum flow rate of a single separator</span>

<span class="sd">    max_flow : pint.quantity or float</span>
<span class="sd">        Maximum flow rate of a single separator</span>

<span class="sd">    design_flow : pint.quantity or float</span>
<span class="sd">        Design flow rate of a single separator</span>

<span class="sd">    volume : pint.quantity or float</span>
<span class="sd">        Volume of the separator in cubic meters</span>

<span class="sd">    power_rating : pint.quantity or float</span>
<span class="sd">        Rated power of a single separator</span>

<span class="sd">    elevation : pint.quantity or float</span>
<span class="sd">        Elevation of the separator in meters above sea level</span>

<span class="sd">    tags : dict of Tag</span>
<span class="sd">        Data tags associated with this separator</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">,</span>
        <span class="n">input_contents</span><span class="p">,</span>
        <span class="n">output_contents</span><span class="p">,</span>
        <span class="n">min_flow</span><span class="p">,</span>
        <span class="n">max_flow</span><span class="p">,</span>
        <span class="n">design_flow</span><span class="p">,</span>
        <span class="n">num_units</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">,</span>
        <span class="n">power_rating</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">elevation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">input_contents</span><span class="p">,</span> <span class="s2">&quot;input_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_contents</span><span class="p">(</span><span class="n">output_contents</span><span class="p">,</span> <span class="s2">&quot;output_contents&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">=</span> <span class="n">min_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">=</span> <span class="n">max_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">=</span> <span class="n">design_flow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">=</span> <span class="n">num_units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">power_rating</span> <span class="o">=</span> <span class="n">power_rating</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">=</span> <span class="n">elevation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&lt;pype_schema.node.Separator id:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;input_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;output_contents:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span><span class="si">}</span><span class="s2"> num_units:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_units</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;min_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span><span class="si">}</span><span class="s2"> max_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;design_flow:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span><span class="si">}</span><span class="s2"> volume:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;power_rating:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">power_rating</span><span class="si">}</span><span class="s2"> elevation:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">elevation</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;tags:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># don&#39;t attempt to compare against unrelated types</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">input_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_contents</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">output_contents</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_units</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_units</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">min_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">max_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_flow</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">design_flow</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">power_rating</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">power_rating</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">elevation</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">elevation</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">tags</span>
        <span class="p">)</span></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, WE3 Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>